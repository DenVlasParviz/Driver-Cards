{"ast":null,"code":"import { mapActions, mapGetters } from \"vuex\";\nimport { mapWeatherCodeToIcon } from \"@/store/Weather/weatherIcons\";\nexport default {\n  data() {\n    return {\n      cityName: \"Вінниця\",\n      fields: [{\n        key: \"date\",\n        label: \"Дата\"\n      }, {\n        key: \"tempMin\",\n        label: \"Мін °C\"\n      }, {\n        key: \"tempMax\",\n        label: \"Макс °C\"\n      }, {\n        key: \"weathercode\",\n        label: \"Іконка\"\n      }]\n    };\n  },\n  computed: {\n    ...mapGetters(\"weather\", {\n      forecast: \"getForecast\",\n      current: \"getCurrentWeather\"\n    })\n  },\n  methods: {\n    ...mapActions(\"weather\", [\"fetchWeatherByCity\", \"loadLocalForecast\"]),\n    mapIcon(code) {\n      return mapWeatherCodeToIcon(code);\n    },\n    async onFetch() {\n      await this.fetchWeatherByCity(this.cityName);\n    }\n  },\n  mounted() {\n    this.loadLocalForecast();\n  }\n};","map":{"version":3,"names":["mapActions","mapGetters","mapWeatherCodeToIcon","data","cityName","fields","key","label","computed","forecast","current","methods","mapIcon","code","onFetch","fetchWeatherByCity","mounted","loadLocalForecast"],"sources":["src/components/WeatherView.vue"],"sourcesContent":["\n<template>\n  <b-container class=\"mt-3\">\n    <h5 class=\"mt-3\">Погода в {{ cityName }}</h5>\n    <b-button type=\"submit\" variant=\"primary\" class=\"mt-3\" @click=\"onFetch\">\n      Оновити дані\n    </b-button>\n\n    <div v-if=\"current\">\n      <b-row class=\"mt-4 justify-content-center\">\n        <b-img\n          class=\"weather-image--preview\"\n          :src=\"mapIcon(current.weathercode)\"\n        ></b-img>\n        <h4 class=\"mt-1 ml-2\">{{ current.temperature }}°C</h4></b-row\n      >\n\n      <h4>Прогноз на {{ forecast.length }} днів:</h4>\n    </div>\n\n    <b-table hover :items=\"forecast\" :fields=\"fields\" v-if=\"current\">\n      <template #cell(weathercode)=\"row\">\n        <b-img\n          class=\"weather-image\"\n          :src=\"mapIcon(row.item.weathercode)\"\n        ></b-img>\n      </template>\n    </b-table>\n  </b-container>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\nimport { mapWeatherCodeToIcon } from \"@/store/Weather/weatherIcons\";\n\nexport default {\n  data() {\n    return {\n      cityName: \"Вінниця\",\n      fields: [\n        { key: \"date\", label: \"Дата\" },\n        { key: \"tempMin\", label: \"Мін °C\" },\n        { key: \"tempMax\", label: \"Макс °C\" },\n        { key: \"weathercode\", label: \"Іконка\" },\n      ],\n    };\n  },\n  computed: {\n    ...mapGetters(\"weather\", {\n      forecast: \"getForecast\",\n      current: \"getCurrentWeather\",\n    }),\n  },\n  methods: {\n    ...mapActions(\"weather\", [\"fetchWeatherByCity\", \"loadLocalForecast\"]),\n    mapIcon(code) {\n      return mapWeatherCodeToIcon(code);\n    },\n    async onFetch() {\n      await this.fetchWeatherByCity(this.cityName);\n    },\n  },\n  mounted() {\n    this.loadLocalForecast();\n  },\n};\n</script>\n\n<style scoped>\n.weather-image--preview {\n  width: 48px;\n  height: 48px;\n}\n.weather-image {\n  width: 36px;\n  height: 36px;\n}\n</style>\n"],"mappings":"AAgCA,SAAAA,UAAA,EAAAC,UAAA;AACA,SAAAC,oBAAA;AAEA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,MAAA,GACA;QAAAC,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,GAAA;QAAAC,KAAA;MAAA;IAEA;EACA;EACAC,QAAA;IACA,GAAAP,UAAA;MACAQ,QAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA;IACA,GAAAX,UAAA;IACAY,QAAAC,IAAA;MACA,OAAAX,oBAAA,CAAAW,IAAA;IACA;IACA,MAAAC,QAAA;MACA,WAAAC,kBAAA,MAAAX,QAAA;IACA;EACA;EACAY,QAAA;IACA,KAAAC,iBAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}