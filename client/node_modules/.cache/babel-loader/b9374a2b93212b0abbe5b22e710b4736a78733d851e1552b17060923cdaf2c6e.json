{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport api from '@/services/authentication'; // наш axios‑инстанс\n\nconst state = {\n  products: []\n};\nconst mutations = {\n  initializeStore(state, newData) {\n    state.products = newData;\n  }\n};\nconst actions = {\n  async loadVehicle({\n    commit\n  }) {\n    try {\n      const response = await api.get(\"/api/info/card\");\n      commit(\"initializeStore\", response.data);\n    } catch (err) {\n      if (err.response && err.response.status === 401) {\n        await this.$router.push('/login');\n      }\n    }\n  },\n  async addVehicle({\n    dispatch\n  }, payload) {\n    await axios.post(\"http://localhost:3000/api/info/card\", payload);\n    dispatch(\"loadVehicle\");\n  },\n  async removeVehicle({\n    dispatch\n  }, id) {\n    await axios.delete(`http://localhost:3000/api/info/card/${id}`);\n    dispatch(\"loadVehicle\");\n  }\n};\nconst getters = {\n  getVehicleInfo(state) {\n    return state.products;\n  }\n};\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions,\n  getters\n};","map":{"version":3,"names":["axios","api","state","products","mutations","initializeStore","newData","actions","loadVehicle","commit","response","get","data","err","status","$router","push","addVehicle","dispatch","payload","post","removeVehicle","id","delete","getters","getVehicleInfo","namespaced"],"sources":["C:/Users/Денис/Desktop/Programming/Lesson11/client/src/store/modules/vehicles.js"],"sourcesContent":["import axios from \"axios\";\nimport api from '@/services/authentication';  // наш axios‑инстанс\n\n\n\nconst state = {\n  products: [],\n};\n\nconst mutations = {\n  initializeStore(state, newData) {\n    state.products = newData;\n  },\n};\n\nconst actions = {\n  async loadVehicle({ commit }) {\n    try {\n\n\n      const response = await api.get(\"/api/info/card\");\n      commit(\"initializeStore\", response.data);\n    }\n    catch (err) {\n      if (err.response && err.response.status === 401) {\n        await this.$router.push('/login');\n\n      }\n    }\n  },\n\n  async addVehicle({ dispatch }, payload) {\n    await axios.post(\"http://localhost:3000/api/info/card\", payload);\n    dispatch(\"loadVehicle\");\n  },\n\n  async removeVehicle({ dispatch }, id) {\n    await axios.delete(`http://localhost:3000/api/info/card/${id}`);\n    dispatch(\"loadVehicle\");\n  },\n};\n\nconst getters = {\n  getVehicleInfo(state) {\n    return state.products;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions,\n  getters,\n};\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,GAAG,MAAM,2BAA2B,CAAC,CAAE;;AAI9C,MAAMC,KAAK,GAAG;EACZC,QAAQ,EAAE;AACZ,CAAC;AAED,MAAMC,SAAS,GAAG;EAChBC,eAAeA,CAACH,KAAK,EAAEI,OAAO,EAAE;IAC9BJ,KAAK,CAACC,QAAQ,GAAGG,OAAO;EAC1B;AACF,CAAC;AAED,MAAMC,OAAO,GAAG;EACd,MAAMC,WAAWA,CAAC;IAAEC;EAAO,CAAC,EAAE;IAC5B,IAAI;MAGF,MAAMC,QAAQ,GAAG,MAAMT,GAAG,CAACU,GAAG,CAAC,gBAAgB,CAAC;MAChDF,MAAM,CAAC,iBAAiB,EAAEC,QAAQ,CAACE,IAAI,CAAC;IAC1C,CAAC,CACD,OAAOC,GAAG,EAAE;MACV,IAAIA,GAAG,CAACH,QAAQ,IAAIG,GAAG,CAACH,QAAQ,CAACI,MAAM,KAAK,GAAG,EAAE;QAC/C,MAAM,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;MAEnC;IACF;EACF,CAAC;EAED,MAAMC,UAAUA,CAAC;IAAEC;EAAS,CAAC,EAAEC,OAAO,EAAE;IACtC,MAAMnB,KAAK,CAACoB,IAAI,CAAC,qCAAqC,EAAED,OAAO,CAAC;IAChED,QAAQ,CAAC,aAAa,CAAC;EACzB,CAAC;EAED,MAAMG,aAAaA,CAAC;IAAEH;EAAS,CAAC,EAAEI,EAAE,EAAE;IACpC,MAAMtB,KAAK,CAACuB,MAAM,CAAC,uCAAuCD,EAAE,EAAE,CAAC;IAC/DJ,QAAQ,CAAC,aAAa,CAAC;EACzB;AACF,CAAC;AAED,MAAMM,OAAO,GAAG;EACdC,cAAcA,CAACvB,KAAK,EAAE;IACpB,OAAOA,KAAK,CAACC,QAAQ;EACvB;AACF,CAAC;AAED,eAAe;EACbuB,UAAU,EAAE,IAAI;EAChBxB,KAAK;EACLE,SAAS;EACTG,OAAO;EACPiB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}